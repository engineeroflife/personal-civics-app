<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Civics Practice</title>

<style>
body{
  font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial;
  margin:0;
  background:#fff;
  color:#000;
}
header{
  padding:16px;
  border-bottom:1px solid #ddd;
}
h1{margin:0;font-size:1.4rem;}
main{padding:16px;max-width:720px;margin:auto;}
.card{
  border:1px solid #ddd;
  border-radius:16px;
  padding:20px;
  margin-top:16px;
}
.buttons{
  display:flex;
  gap:8px;
  margin-top:12px;
}
button{
  flex:1;
  padding:12px;
  font-size:1rem;
  border-radius:12px;
  border:1px solid #000;
  background:#fff;
}
button.primary{
  background:#000;
  color:#fff;
}
small{color:#555;}
</style>
</head>

<body>
<header>
  <h1>ðŸ‡ºðŸ‡¸ Civics Practice</h1>
  <small>Flashcards â€¢ Interview Mode â€¢ Text-to-Speech</small>
</header>

<main>
  <div class="card">
    <div id="question"></div>
    <div id="answers" style="display:none;margin-top:10px;"></div>

    <div class="buttons">
      <button onclick="prev()">â—€</button>
      <button onclick="speakQuestion()">ðŸ”Š Q</button>
      <button onclick="toggleAnswers()">Show A</button>
      <button onclick="speakAnswer()">ðŸ”Š A</button>
      <button onclick="next()">â–¶</button>
    </div>
  </div>

  <p style="margin-top:12px;">
    Question <span id="count"></span>
  </p>
</main>

<script>
let data=[],i=0;

fetch('data/civics_128_2025.json')
  .then(r=>r.json())
  .then(j=>{
    data=j.items;
    show();
  });

function show(){
  const q=data[i];
  document.getElementById('question').innerHTML="<b>"+q.question+"</b>";
  document.getElementById('answers').innerHTML=
    q.answers.map(a=>"â€¢ "+a).join("<br>");
  document.getElementById('answers').style.display="none";
  document.getElementById('count').innerText=(i+1)+" / "+data.length;
}

function toggleAnswers(){
  const a=document.getElementById('answers');
  a.style.display=a.style.display==="none"?"block":"none";
}

function speakQuestion(){
  speechSynthesis.speak(new SpeechSynthesisUtterance(data[i].question));
}

function speakAnswer(){
  speechSynthesis.speak(new SpeechSynthesisUtterance(data[i].answers.join(". ")));
}

function next(){ if(i<data.length-1){i++;show();} }
function prev(){ if(i>0){i--;show();} }
</script>
</body>
</html>
